import{j as ee,k as te,_ as re,l as ne,p as ie,m as se,h as oe,f as ae,c as O,b as a,F as w,d as ue,a as A,g as E,r as j,o as S,t as g,e as le,n as y}from"./index-PlEsYLOX.js";import{c as k}from"./cartStore-B_CFo6Cu.js";/**
  * vee-validate v4.12.5
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */function z(e){return typeof e=="function"}function de(e){return typeof e=="object"&&e!==null}function ce(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function v(e){if(!de(e)||ce(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function B(e,t){return Object.keys(t).forEach(r=>{if(v(t[r])&&v(e[r])){e[r]||(e[r]={}),B(e[r],t[r]);return}e[r]=t[r]}),e}function D(e,t){return e.replace(/(\d:)?{([^}]+)}/g,function(r,n,i){if(!n||!t.params)return i in t?t[i]:t.params&&i in t.params?t.params[i]:`{${i}}`;if(!Array.isArray(t.params))return i in t.params?t.params[i]:`{${i}}`;const s=Number(n.replace(":",""));return s in t.params?t.params[s]:`${n}{${i}}`})}class fe{constructor(t,r){this.container={},this.locale=t,this.merge(r)}resolve(t){return this.format(this.locale,t)}getLocaleDefault(t,r){var n,i,s,o,l;return((s=(i=(n=this.container[t])===null||n===void 0?void 0:n.fields)===null||i===void 0?void 0:i[r])===null||s===void 0?void 0:s._default)||((l=(o=this.container[t])===null||o===void 0?void 0:o.messages)===null||l===void 0?void 0:l._default)}resolveLabel(t,r,n){var i,s,o,l;return n?((s=(i=this.container[t])===null||i===void 0?void 0:i.names)===null||s===void 0?void 0:s[n])||n:((l=(o=this.container[t])===null||o===void 0?void 0:o.names)===null||l===void 0?void 0:l[r])||r}format(t,r){var n,i,s,o,l;let c;const{rule:d,form:m,label:X,name:h}=r,_=this.resolveLabel(t,h,X);return d?(c=((s=(i=(n=this.container[t])===null||n===void 0?void 0:n.fields)===null||i===void 0?void 0:i[h])===null||s===void 0?void 0:s[d.name])||((l=(o=this.container[t])===null||o===void 0?void 0:o.messages)===null||l===void 0?void 0:l[d.name]),c||(c=this.getLocaleDefault(t,h)||`${_} is not valid`),z(c)?c(r):D(c,Object.assign(Object.assign({},m),{field:_,params:d.params}))):(c=this.getLocaleDefault(t,h)||`${_} is not valid`,z(c)?c(r):D(c,Object.assign(Object.assign({},m),{field:_})))}merge(t){B(this.container,t)}}const p=new fe("en",{});function C(e,t){const r=n=>p.resolve(n);return typeof e=="string"?(p.locale=e,t&&p.merge({[e]:t}),r):(p.merge(e),r)}/**
  * vee-validate v4.12.5
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */const $={en:/^[A-Z]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[A-ZÆØÅ]*$/i,de:/^[A-ZÄÖÜß]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[A-Z\xC0-\xFF]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ]*$/i,nl:/^[A-ZÉËÏÓÖÜ]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ru:/^[А-ЯЁ]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[A-ZČĆŽŠĐ]*$/i,sv:/^[A-ZÅÄÖ]*$/i,tr:/^[A-ZÇĞİıÖŞÜ]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[A-ZÇƏĞİıÖŞÜ]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ]*$/i},b={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},Z={en:/^[0-9A-Z]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[0-9A-ZÆØÅ]$/i,de:/^[0-9A-ZÄÖÜß]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ]*$/i,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[0-9A-Z\xC0-\xFF]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ru:/^[0-9А-ЯЁ]*$/i,kz:/^[0-9А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[0-9A-ZČĆŽŠĐ]*$/i,sv:/^[0-9A-ZÅÄÖ]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ]*$/i,ug:/^[0-9A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ]*$/i},V={en:/^[0-9A-Z_-]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ_-]*$/i,da:/^[0-9A-ZÆØÅ_-]*$/i,de:/^[0-9A-ZÄÖÜß_-]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ_-]*$/i,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ_-]*$/i,it:/^[0-9A-Z\xC0-\xFF_-]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ_-]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ_-]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ_-]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ_-]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ_-]*$/i,ru:/^[0-9А-ЯЁ_-]*$/i,kz:/^[0-9А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA_-]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ_-]*$/i,sr:/^[0-9A-ZČĆŽŠĐ_-]*$/i,sv:/^[0-9A-ZÅÄÖ_-]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ_-]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ_-]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ_-]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ_-]*$/i,ug:/^[0-9A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ_-]*$/i},x=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function f(e,t){return Array.isArray(e)?e[0]:e[t]}function u(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const T=(e,t)=>{if(u(e))return!0;const r=x(t);if(Array.isArray(e))return e.every(i=>T(i,{locale:r}));const n=String(e);return r?($[r]||$.en).test(n):Object.keys($).some(i=>$[i].test(n))},U=(e,t)=>{if(u(e))return!0;const r=x(t);if(Array.isArray(e))return e.every(i=>U(i,{locale:r}));const n=String(e);return r?(V[r]||V.en).test(n):Object.keys(V).some(i=>V[i].test(n))},F=(e,t)=>{if(u(e))return!0;const r=x(t);if(Array.isArray(e))return e.every(i=>F(i,{locale:r}));const n=String(e);return r?(Z[r]||Z.en).test(n):Object.keys(Z).some(i=>Z[i].test(n))},I=(e,t)=>{if(u(e))return!0;const r=x(t);if(Array.isArray(e))return e.every(i=>I(i,{locale:r}));const n=String(e);return r?(b[r]||b.en).test(n):Object.keys(b).some(i=>b[i].test(n))};function me(e){return Array.isArray(e)?{min:e[0],max:e[1]}:e}const M=(e,t)=>{if(u(e))return!0;const{min:r,max:n}=me(t);if(Array.isArray(e))return e.every(s=>M(s,{min:r,max:n}));const i=Number(e);return Number(r)<=i&&Number(n)>=i},Ae=(e,t)=>{const r=f(t,"target");return String(e)===String(r)},W=(e,t)=>{if(u(e))return!0;const r=f(t,"length");if(Array.isArray(e))return e.every(i=>W(i,{length:r}));const n=String(e);return/^[0-9]*$/.test(n)&&n.length===Number(r)},ge=(e,t,r)=>{const n=window.URL||window.webkitURL;return new Promise(i=>{const s=new Image;s.onerror=()=>i(!1),s.onload=()=>i(s.width===t&&s.height===r),s.src=n.createObjectURL(e)})};function he(e){return e?Array.isArray(e)?{width:Number(e[0]),height:Number(e[1])}:{width:Number(e.width),height:Number(e.height)}:{width:0,height:0}}const _e=(e,t)=>{if(u(e))return!0;const{width:r,height:n}=he(t),i=[],s=Array.isArray(e)?e:[e];for(let o=0;o<s.length;o++){if(!/\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(s[o].name))return Promise.resolve(!1);i.push(s[o])}return Promise.all(i.map(o=>ge(o,r,n))).then(o=>o.every(l=>l))},L=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ye=e=>u(e)?!0:Array.isArray(e)?e.every(t=>L.test(String(t))):L.test(String(e)),pe=(e,t)=>{if(u(e))return!0;const r=new RegExp(`\\.(${t.join("|")})$`,"i");return Array.isArray(e)?e.every(n=>r.test(n.name)):r.test(e.name)},$e=e=>{if(u(e))return!0;const t=/\.(jpg|svg|jpeg|png|bmp|gif|webp)$/i;return Array.isArray(e)?e.every(r=>t.test(r.name)):t.test(e.name)},be=e=>u(e)?!0:Array.isArray(e)?e.every(t=>/^-?[0-9]+$/.test(String(t))):/^-?[0-9]+$/.test(String(e)),Ze=(e,t)=>{const r=f(t,"other");return e===r},Ve=(e,t)=>{const r=f(t,"other");return e!==r},xe=(e,t)=>{if(u(e))return!0;const r=f(t,"length");return typeof e=="number"&&(e=String(e)),e.length||(e=Array.from(e)),e.length===Number(r)},H=(e,t)=>{if(u(e))return!0;const r=f(t,"length");return Array.isArray(e)?e.every(n=>H(n,{length:r})):[...String(e)].length<=Number(r)},K=(e,t)=>{if(u(e))return!0;const r=f(t,"max");return Array.isArray(e)?e.length>0&&e.every(n=>K(n,{max:r})):Number(e)<=Number(r)},P=/\+(.+)?/;function Oe(e){let t=e;return P.test(e)&&(t=e.replace(P,"(\\+$1)?")),new RegExp(t.replace("*",".+"),"i")}const je=(e,t)=>{if(u(e))return!0;t||(t=[]);const r=t.map(Oe);return Array.isArray(e)?e.every(n=>r.some(i=>i.test(n.type))):r.some(n=>n.test(e.type))},Y=(e,t)=>{if(u(e))return!0;const r=f(t,"length");return Array.isArray(e)?e.every(n=>Y(n,{length:r})):[...String(e)].length>=Number(r)},G=(e,t)=>{if(u(e))return!0;const r=f(t,"min");return Array.isArray(e)?e.length>0&&e.every(n=>G(n,{min:r})):Number(e)>=Number(r)},N=(e,t)=>u(e)?!0:Array.isArray(e)?e.every(r=>N(r,t)):Array.from(t).some(r=>r==e),Se=(e,t)=>u(e)?!0:!N(e,t),Ne=/^[٠١٢٣٤٥٦٧٨٩]+$/,we=/^[0-9]+$/,Ee=e=>{if(u(e))return!0;const t=r=>{const n=String(r);return we.test(n)||Ne.test(n)};return Array.isArray(e)?e.every(t):t(e)},J=(e,t)=>{if(u(e))return!0;let r=f(t,"regex");return typeof r=="string"&&(r=new RegExp(r)),Array.isArray(e)?e.every(n=>J(n,{regex:r})):r.test(String(e))};function ke(e){return e==null}function ze(e){return Array.isArray(e)&&e.length===0}const Q=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e),ve=e=>ke(e)||ze(e)||e===!1?!1:!!String(e).trim().length,De=(e,t)=>{if(u(e))return!0;let r=f(t,"size");if(r=Number(r),isNaN(r))return!1;const n=r*1024;if(!Array.isArray(e))return e.size<=n;for(let i=0;i<e.length;i++)if(e[i].size>n)return!1;return!0},Le=(e,t)=>{var r;if(u(e))return!0;let n=f(t,"pattern");typeof n=="string"&&(n=new RegExp(n));try{new URL(e)}catch{return!1}return(r=n==null?void 0:n.test(e))!==null&&r!==void 0?r:!0};function Pe(e){return Object.keys(e)}function Re(e){return{__type:"VVTypedSchema",async parse(r){if(typeof e=="string")return{errors:[{errors:(await ee(r,e)).errors}]};const n=await te(e,r);return{errors:Pe(n.errors).map(i=>{var s;return{path:i,errors:((s=n.results[i])===null||s===void 0?void 0:s.errors)||[]}})}},describe(r){return r?Q(e)&&r in e?R(e[r]):{required:!1,exists:!1}:R(e)}}}function R(e){return typeof e=="string"?{exists:!0,required:e.includes("required")}:Q(e)?{exists:!0,required:!!e.required}:{required:!1,exists:!0}}const q=Object.freeze(Object.defineProperty({__proto__:null,alpha:T,alpha_dash:U,alpha_num:F,alpha_spaces:I,between:M,confirmed:Ae,digits:W,dimensions:_e,email:ye,ext:pe,image:$e,integer:be,is:Ze,is_not:Ve,length:xe,max:H,max_value:K,mimes:je,min:Y,min_value:G,not_one_of:Se,numeric:Ee,one_of:N,regex:J,required:ve,size:De,toTypedSchema:Re,url:Le},Symbol.toStringTag,{value:"Module"})),qe="zh_TW",Be={alpha:"{field} 須以英文組成",alpha_dash:"{field} 須以英數、斜線及底線組成",alpha_num:"{field} 須以英數組成",alpha_spaces:"{field} 須以英文及空格組成",between:"{field} 須介於 0:{min} 至 1:{max}之間",confirmed:" {field} 不一致",digits:"{field} 須為 0:{length} 位數字",dimensions:"{field} 圖片尺寸不正確。須為 0:{width} x 1:{height} 像素",email:"{field} 須為有效的電子信箱",excluded:"{field} 的選項無效",ext:"{field} 須為有效的檔案",image:"{field} 須為圖片",one_of:"{field} 的選項無效",integer:"{field} 須為整數",length:"{field} 的長度須為 0:{length}",max:"{field} 不能大於 0:{length} 個字元",max_value:"{field} 不得大於 0:{max}",mimes:"{field} 須為有效的檔案類型",min:"{field} 不能小於 0:{length} 個字元",min_value:"{field} 不得小於 0:{min}",numeric:"{field} 須為數字",regex:"{field} 的格式錯誤",required:"{field} 為必填",required_if:"{field} 為必填",size:"{field} 的檔案須小於 0:{ size}KB"},Ce={code:qe,messages:Be},Te="https://vue3-course-api.hexschool.io/v2",Ue="florafirstapi";Object.keys(q).forEach(e=>{ne(e,q[e])});C({zh_TW:Ce});ie({generateMessage:C("zh_TW"),validateOnInput:!0});const Fe={data(){return{data:{user:{email:"",name:"",tel:"",address:""}}}},computed:{...se(k,["cart"])},methods:{...oe(k,["getCartItem"]),onSubmit(){console.log(this.data);const e=this.data;console.log({data:e}),ae.post(`${Te}/api/${Ue}/order`,{data:e}).then(t=>{console.log(t,"送出訂單"),this.data={},window.alert("送出訂單"),window.location.href="./index.html#/home"}).catch(t=>{console.log(t)})},isPhone(e){return/^(09)[0-9]{8}$/.test(e)?!0:"請輸入有效電話號碼"}},mounted(){this.getCartItem()}},Ie=a("h1",{class:"text-primary"},"購物車內容",-1),Me={class:"table table-success"},We=a("thead",null,[a("tr",null,[a("th",null,"title"),a("th",null,"price"),a("th",null,"qty"),a("th",null,"final tital")])],-1),He={class:"mb-1"},Ke=a("label",{for:"email",class:"form-label"},"電子信箱",-1),Ye={class:"mb-1"},Ge=a("label",{for:"name",class:"form-label"},null,-1),Je={class:"mb-1"},Qe=a("label",{for:"tel",class:"form-label"},"手機號碼",-1),Xe={class:"mb-1"},et=a("label",{for:"area",class:"form-label"},"地區",-1),tt=a("option",{value:""},"請選擇地區",-1),rt=a("option",{value:"台北市"},"台北市信義區信義路五段7號",-1),nt=a("option",{value:"高雄市"},"高雄市新興區八德一路85號",-1),it=a("button",{type:"submit"},"送出",-1);function st(e,t,r,n,i,s){const o=j("v-field"),l=j("error-message"),c=j("v-form");return S(),O(w,null,[Ie,a("table",Me,[We,a("tbody",null,[(S(!0),O(w,null,ue(e.cart,d=>(S(),O("tr",{key:d.id},[a("th",null,g(d.product.title),1),a("th",null,g(d.product.price),1),a("th",null,g(d.qty),1),a("th",null,g(d.final_total),1)]))),128))])]),A(c,{onSubmit:s.onSubmit},{default:E(({errors:d})=>[le(g(d)+" ",1),a("div",He,[Ke,A(o,{id:"email",name:"email",type:"email",class:y(["form-control",{"is-invalid":d.email}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:i.data.user.email,"onUpdate:modelValue":t[0]||(t[0]=m=>i.data.user.email=m)},null,8,["class","modelValue"]),A(l,{name:"email",class:"invalid-feedback"})]),a("div",Ye,[Ge,A(o,{name:"姓名",type:"text",class:y(["form-control",{"is-invalid":d.姓名}]),id:"name",rules:"required",placeholder:"請輸入姓名",modelValue:i.data.user.name,"onUpdate:modelValue":t[1]||(t[1]=m=>i.data.user.name=m)},null,8,["class","modelValue"]),A(l,{name:"姓名",class:"invalid-feedback"})]),a("div",Je,[Qe,A(o,{name:"tel",type:"text",class:y(["form-control",{"is-invalid":d.tel}]),id:"tel",rules:s.isPhone,placeholder:"請輸入手機號碼",modelValue:i.data.user.tel,"onUpdate:modelValue":t[2]||(t[2]=m=>i.data.user.tel=m)},null,8,["rules","class","modelValue"]),A(l,{name:"tel",class:"invalid-feedback"})]),a("div",Xe,[et,A(o,{id:"area",name:"地區",class:y(["form-control",{"is-invalid":d.地區}]),placeholder:"請輸入地區",rules:"required",modelValue:i.data.user.address,"onUpdate:modelValue":t[3]||(t[3]=m=>i.data.user.address=m),as:"select"},{default:E(()=>[tt,rt,nt]),_:2},1032,["class","modelValue"]),A(l,{name:"地區",class:"invalid-feedback"})]),it]),_:1},8,["onSubmit"])],64)}const ut=re(Fe,[["render",st]]);export{ut as default};
