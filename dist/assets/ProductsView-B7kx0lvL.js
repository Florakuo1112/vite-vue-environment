import{_ as m,o as n,c as o,b as t,n as d,w as u,F as r,d as P,t as g,e as k,f as x,a as h,r as f,g as $}from"./index-PlEsYLOX.js";const b={props:["pages","getProduct"]},C={"aria-label":"Page navigation example"},L={class:"pagination d-flex justify-content-center"},y=t("span",{"aria-hidden":"true"},"«",-1),V=[y],w=["onClick"],N=t("span",{"aria-hidden":"true"},"»",-1),T=[N];function B(i,a,e,v,c,_){return n(),o(r,null,[t("nav",C,[t("ul",L,[t("li",{class:d(["page-item",{disabled:e.pages.current_page==1}])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:a[0]||(a[0]=u(s=>e.getProduct(e.pages.current_page-1),["prevent"]))},V)],2),(n(!0),o(r,null,P(e.pages.total_pages,s=>(n(),o("li",{class:d(["page-item",{active:s==e.pages.current_page}]),key:s},[t("a",{class:"page-link",href:"#",onClick:u(p=>e.getProduct(s),["prevent"])},g(s),9,w)],2))),128)),t("li",{class:d(["page-item",{disabled:e.pages.current_page==e.pages.total_pages}])},[t("a",{class:"page-link",href:"#","aria-label":"Next",onClick:a[1]||(a[1]=u(s=>e.getProduct(e.pages.current_page+1),["prevent"]))},T)],2)])]),k(" "+g(e.pages),1)],64)}const E=m(b,[["render",B]]),R="https://vue3-course-api.hexschool.io/v2",F="florafirstapi",I={components:{pagination:E},data(){return{productList:[],pages:{}}},methods:{changePage(i){this.$router.push(`/products/${i}`)},getProduct(i=1){x.get(`${R}/api/${F}/products?page=${i}`).then(a=>{this.pages=a.data.pagination,this.productList=a.data.products})}},mounted(){this.getProduct()}},j=t("h1",{class:"text-primary"},"產品列表",-1),z={class:"table"},A=t("td",null,null,-1),D=t("td",null,null,-1),H=t("td",null,null,-1);function M(i,a,e,v,c,_){const s=f("RouterLink"),p=f("pagination");return n(),o(r,null,[j,t("table",z,[t("tbody",null,[(n(!0),o(r,null,P(c.productList,l=>(n(),o("tr",{key:l.id},[t("td",null,g(l.title),1),A,D,H,t("td",null,[h(s,{to:`/products/${l.id}`},{default:$(()=>[k("產品介紹頁")]),_:2},1032,["to"])])]))),128))])]),h(p,{pages:c.pages,getProduct:_.getProduct},null,8,["pages","getProduct"])],64)}const U=m(I,[["render",M]]);export{U as default};
