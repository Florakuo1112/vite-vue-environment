import{_ as c,h as m,f as p,c as u,b as e,i as a,v as l,w as f,F as h,o as _}from"./index-PlEsYLOX.js";import{c as g}from"./checkLogin-B4iddkoJ.js";const d="https://vue3-course-api.hexschool.io/v2",w="florafirstapi",x={data(){return{temp:{username:"",password:""}}},methods:{...m(g,["checkLogin"]),login(){p.post(`${d}/admin/signin`,this.temp).then(n=>{console.log(n);const{token:o,expired:r}=n.data;console.log(o,r),document.cookie=`floraFirstApiToken=${o}; expires=${new Date(r)}`,window.location.href="./index.html#/admin/products"})}},mounted(){console.log(w,d),this.checkLogin()}},b=e("h1",null,"請登入後台",-1),k={id:"form",class:"form-signin"},v={class:"form-floating mb-3"},V=e("label",{for:"username"},"Email address",-1),L={class:"form-floating"},T=e("label",{for:"password"},"Password",-1);function y(n,o,r,E,t,i){return _(),u(h,null,[b,e("form",k,[e("div",v,[a(e("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com",required:"",autofocus:"","onUpdate:modelValue":o[0]||(o[0]=s=>t.temp.username=s)},null,512),[[l,t.temp.username]]),V]),e("div",L,[a(e("input",{type:"password",class:"form-control",id:"password",placeholder:"Password",required:"","onUpdate:modelValue":o[1]||(o[1]=s=>t.temp.password=s)},null,512),[[l,t.temp.password]]),T]),e("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"button",onClick:o[2]||(o[2]=f((...s)=>i.login&&i.login(...s),["prevent"]))},"登入")])],64)}const F=c(x,[["render",y]]);export{F as default};
