import{G as n,H as i}from"./index-B74tIYlf.js";const s="https://vue3-course-api.hexschool.io/v2",a=n("checkLogin",{state:()=>({isLogin:!1}),actions:{checkLogin(){var e;const t=(e=document.cookie.split("; ").find(o=>o.startsWith("floraFirstApiToken=")))==null?void 0:e.split("=")[1];i.defaults.headers.common.Authorization=t,i.post(`${s}/api/user/check`).then(o=>{console.log("已登入",o.data),this.isLogin=!0,console.log(this.isLogin),location.href=="./index.html#/admin/login"&&location.replace(location.href)}).catch(o=>{console.log("請重新登入",o.response.data.message),window.location.href="./index.html#/admin/login"})}}});export{a as c};
